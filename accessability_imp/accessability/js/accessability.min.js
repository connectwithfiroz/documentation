var LANAGUAGE = 'en-US';
const widgetSection = 
	`<div class="uwaw uw-light-theme gradient-head uwaw-initial paid_widget" id="uw-main" >
	<div class="relative second-panel">
		<h3>Accessibility options</h3>
		<div class="uwaw-close" onclick="closeMain()"></div>
	</div>
	<div class="uwaw-body">
		<div class="h-scroll">
			<div class="uwaw-features">
				<div class="uwaw-features__item reset-feature" id="featureItem_sp">
					<button id="speak" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon"> <span class="waf-icon icon-speaker"> </span> </span>
						<span class="uwaw-features__item__name">Screen Reader</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon_sp" style="display: none;"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem">
					<button id="btn-s9" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-bigger-text"> </span>
						</span><span class="uwaw-features__item__name">Bigger Text</span>
						<div class="uwaw-features__item__steps reset-steps" id="featureSteps">
							<!-- Steps span tags will be dynamically added here -->
						</div> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon" style="display: none"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-st">
					<button id="btn-small-text" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-small-text"> </span>
						</span><span class="uwaw-features__item__name">Small Text</span>
						<div class="uwaw-features__item__steps reset-steps" id="featureSteps-st">
							<!-- Steps span tags will be dynamically added here -->
						</div> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-st" style="display: none"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-lh">
					<button id="btn-s12" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-line-hight"> </span>
						</span>
						<span class="uwaw-features__item__name">Line Height</span>
						<div class="uwaw-features__item__steps reset-steps" id="featureSteps-lh">
							<!-- Steps span tags will be dynamically added here -->
						</div> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-lh" style="display: none"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-ht">
					<button id="btn-s10" onclick="highlightLinks()" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-highlight-links"> </span>
						</span> <span class="uwaw-features__item__name">Highlight Links</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-ht" style="display: none"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-ts">
					<button id="btn-s13" onclick="increaseAndReset()" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-text-spacing"> </span>
						</span> <span class="uwaw-features__item__name">Text Spacing</span>
						<div class="uwaw-features__item__steps reset-steps" id="featureSteps-ts">
							<!-- Steps span tags will be dynamically added here -->
						</div> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-ts" style="display: none"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-df">
					<button id="btn-df" onclick="toggleFontFeature()" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-dyslexia-font"> </span>
						</span> <span class="uwaw-features__item__name">Dyslexia Friendly</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-df" style="display: none;"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-hi">
					<button id="btn-s11" onclick="toggleImages()" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon">
							<span class="waf-icon icon-hide-images"> </span>
						</span>
						<span class="uwaw-features__item__name">Hide Images</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-hi" style="display: none;"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-Cursor">
					<button id="btn-cursor" onclick="toggleCursorFeature()" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon"> <span class="waf-icon icon-cursor"> </span> </span>
						<span class="uwaw-features__item__name">Cursor</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-cursor" style="display: none;"> </span>
					</button>
				</div>
				<div class="uwaw-features__item reset-feature" id="featureItem-ht-dark">
					<button id="dark-btn" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__name">
							<span class="light_dark_icon">
								<input type="checkbox" class="light_mode uwaw-featugres__item__i" id="checkbox"> <label for="checkbox" class="checkbox-label">
									<!-- <i class="fas fa-moon-stars"></i> --> <i class="fas fa-moon-stars">
										<span class="waf-icon icon-moon"></span>
									</i> <i class="fas fa-sun">
										<span class="waf-icon icon-sun"></span>
									</i> <span class="ball"></span>
								</label>
							</span> <span class="uwaw-features__item__name">Light-Dark</span>
						</span>
						<span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-ht-dark" style="display: none; pointer-events: none;"> </span>
					</button>
				</div>
				<!-- Invert Colors Widget -->
				<div class="uwaw-features__item reset-feature" id="featureItem-ic">
					<button id="btn-invert" class="uwaw-features__item__i" data-uw-reader-content="Enable the UserWay screen reader" aria-label="Enable the UserWay screen reader" aria-pressed="false">
						<span class="uwaw-features__item__icon"> <span class="waf-icon icon-invert"> </span> </span>
						<span class="uwaw-features__item__name">Invert Colors</span> <span class="tick-active uwaw-features__item__enabled reset-tick" id="tickIcon-ic" style="display: none"> </span>
					</button>
				</div>
			</div>
		</div> <!-- Reset Button -->
	</div>
	<div class="reset-panel">
		<!-- copyright accessibility bar -->
		<div class="copyrights-accessibility">
			<button class="btn-reset-all" id="reset-all" onclick="resetAll()">
				<span class="reset-icon"> </span> <span class="reset-btn-text">Reset All Settings</span>
			</button>
			<!-- <a href="https://www.ux4g.gov.in" target="_blank" class="copyright-text" contenteditable="false"
				style="cursor: pointer;"> <span class="uwaw-features__item__name waf-copy waf-copyright">Created
					by</span> <img src="https://www.ux4g.gov.in/assets/img/logo/waf-logo.svg" alt="logo"
					loading="lazy"> </a> -->
		</div>
	</div>
</div>`;
var accessabilityBtnText = 
	`<img src="data:image/svg+xml,%0A%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_1_1506)'%3E%3Cpath d='M16 7C15.3078 7 14.6311 6.79473 14.0555 6.41015C13.4799 6.02556 13.0313 5.47894 12.7664 4.83939C12.5015 4.19985 12.4322 3.49612 12.5673 2.81719C12.7023 2.13825 13.0356 1.51461 13.5251 1.02513C14.0146 0.535644 14.6383 0.202301 15.3172 0.0672531C15.9961 -0.0677952 16.6999 0.00151652 17.3394 0.266423C17.9789 0.53133 18.5256 0.979934 18.9101 1.55551C19.2947 2.13108 19.5 2.80777 19.5 3.5C19.499 4.42796 19.1299 5.31762 18.4738 5.97378C17.8176 6.62994 16.928 6.99901 16 7Z' fill='white'/%3E%3Cpath d='M27 7.05L26.9719 7.0575L26.9456 7.06563C26.8831 7.08313 26.8206 7.10188 26.7581 7.12125C25.595 7.4625 19.95 9.05375 15.9731 9.05375C12.2775 9.05375 7.14313 7.67875 5.50063 7.21188C5.33716 7.14867 5.17022 7.09483 5.00063 7.05063C3.81313 6.73813 3.00063 7.94438 3.00063 9.04688C3.00063 10.1388 3.98188 10.6588 4.9725 11.0319V11.0494L10.9238 12.9081C11.5319 13.1413 11.6944 13.3794 11.7738 13.5856C12.0319 14.2475 11.8256 15.5581 11.7525 16.0156L11.39 18.8281L9.37813 29.84C9.37188 29.87 9.36625 29.9006 9.36125 29.9319L9.34688 30.0112C9.20188 31.0206 9.94313 32 11.3469 32C12.5719 32 13.1125 31.1544 13.3469 30.0037C13.5813 28.8531 15.0969 20.1556 15.9719 20.1556C16.8469 20.1556 18.6494 30.0037 18.6494 30.0037C18.8838 31.1544 19.4244 32 20.6494 32C22.0569 32 22.7981 31.0162 22.6494 30.0037C22.6363 29.9175 22.6206 29.8325 22.6019 29.75L20.5625 18.8294L20.2006 16.0169C19.9387 14.3788 20.1494 13.8375 20.2206 13.7106C20.2225 13.7076 20.2242 13.7045 20.2256 13.7013C20.2931 13.5763 20.6006 13.2963 21.3181 13.0269L26.8981 11.0763C26.9324 11.0671 26.9662 11.0563 26.9994 11.0438C27.9994 10.6688 28.9994 10.15 28.9994 9.04813C28.9994 7.94625 28.1875 6.73813 27 7.05Z' fill='white'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1_1506'%3E%3Crect width='32' height='32' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A" style="visibility: visible !important;">
	<span>Accessibility Options</span>`;


	function isExcludedElement(e){return!!(e.closest("#uw-main")||e.classList.contains("uwaw-features__item__name")||e.classList.contains("waf-text-spacing")||e.classList.contains("feature-image")||e.classList.contains("icon_global")||e.classList.contains("copyright-text")||e.classList.contains("waf-copy"))||"SCRIPT"===e.tagName||"DIV"===e.tagName||"LINK"===e.tagName||"HTML"===e.tagName||"HEAD"===e.tagName||"BODY"===e.tagName||"svg"===e.tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI}function handleFontSizes(e,t,n,s,i,l){var a=l+"-clickCount",c=l+"-buttonClicked",o=0,r=0,u=localStorage.getItem(a);u&&(o=parseInt(u,10)),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById(t),i=document.getElementById(n),l=document.getElementById(s),o=JSON.parse(localStorage.getItem(c)),r=JSON.parse(localStorage.getItem(a)),u=localStorage.getItem("bt-size"),d=localStorage.getItem("st-size");if(o){e.classList.add("feature-active"),i.classList.add("featureSteps-visible"),l.style.display="inline-block";for(var g="",m=0;m<4;m++)g+='<span class="'+(m<r?"active step uwaw-features__step":"step uwaw-features__step")+'"></span>';if(i.innerHTML=g,0!=u){document.getElementById("btn-small-text").disabled=!0;var y=document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)");y.forEach(function(e){if(!isExcludedElement(e)){var t=window.getComputedStyle(e).fontSize,n=parseFloat(t)+parseFloat(u);e.style.setProperty("font-size",n+"px","important")}})}if(0!=d){document.getElementById("btn-s9").disabled=!0;var y=document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)");y.forEach(function(e){if(!isExcludedElement(e)){var t=window.getComputedStyle(e).fontSize,n=parseFloat(t)-parseFloat(d);e.style.setProperty("font-size",n+"px","important")}})}}}),document.getElementById(e).addEventListener("click",function(){o++,r+=2;var u=document.getElementById(t),d=document.getElementById(n),g=document.getElementById(s);if("btn-s9"==e&&(document.getElementById("btn-small-text").disabled=!0,localStorage.setItem("btn-big",!0)),"btn-small-text"==e&&(document.getElementById("btn-s9").disabled=!0,localStorage.setItem("btn-small",!0)),localStorage.setItem(a,o),localStorage.setItem(c,!0),5===o){o=0,r=0,u.classList.remove("feature-active"),d.classList.remove("featureSteps-visible"),d.innerHTML="",g.style.display="none",localStorage.setItem(a,0),localStorage.setItem(c,!1),"btn-s9"==e&&(document.getElementById("btn-small-text").disabled=!1,localStorage.setItem("btn-big",!1)),"btn-small-text"==e&&(document.getElementById("btn-s9").disabled=!1,localStorage.setItem("btn-small",!1)),resetFontSizes(l,a,c);return}1===o&&(u.classList.add("feature-active"),d.classList.add("featureSteps-visible"),localStorage.setItem(a,o),localStorage.setItem(c,!0)),document.getElementById(e).setAttribute("data-uw-reader-content",o);for(var m="",y=0;y<4;y++)m+='<span class="'+(y<o?"active step uwaw-features__step":"step uwaw-features__step")+'"></span>';d.innerHTML=m,o<5&&(g.style.display="inline-block"),adjustFontSizes(i,l,r)})}function adjustFontSizes(e,t,n){var s=t+"-size";document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)").forEach(function(t){if(!isExcludedElement(t)){var i=window.getComputedStyle(t).fontSize,l=e?parseFloat(i)+2:parseFloat(i)-2;t.style.setProperty("font-size",l+"px","important"),localStorage.setItem(s,parseFloat(n))}})}function resetFontSizes(){document.querySelectorAll("*").forEach(function(e){e.style.fontSize="",localStorage.setItem("st-size",0),localStorage.setItem("st-clickCount",0),localStorage.setItem("st-buttonClicked",!1),localStorage.setItem("bt-size",0),localStorage.setItem("bt-clickCount",0),localStorage.setItem("bt-buttonClicked",!1),localStorage.setItem("btn-big",!1),localStorage.setItem("btn-small",!1)})}let letterSpacing=0,clickCountText=0;var localStorageSpacingCount=localStorage.getItem("ts-clickCount");function increaseAndReset(){clickCountText++;var e=document.getElementById("featureItem-ts"),t=document.getElementById("featureSteps-ts"),n=document.getElementById("tickIcon-ts");if(localStorage.setItem("ts-clickCount",clickCountText),localStorage.setItem("ts-buttonClicked",!0),4===clickCountText){letterSpacing=0,clickCountText=0,e.classList.remove("feature-active"),t.classList.remove("featureSteps-visible"),t.innerHTML="",n.style.display="none",localStorage.setItem("ts-clickCount",clickCountText),localStorage.setItem("ts-buttonClicked",!1),resetLetterspacing();return}1===clickCountText&&(e.classList.add("feature-active"),t.classList.add("featureSteps-visible"),localStorage.setItem("ts-clickCount",clickCountText),localStorage.setItem("ts-buttonClicked",!0));for(var s="",i=0;i<3;i++)s+='<span class="'+(i<clickCountText?"active step uwaw-features__step":"step uwaw-features__step")+'"></span>';t.innerHTML=s,clickCountText<4&&(n.style.display="inline-block"),letterSpacing+=.7,applyLetterSpacing()}function decreaseSpacing(){letterSpacing-=5,applyLetterSpacing()}function applyLetterSpacing(){let e=document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)");e.forEach(function(e){if(!isExcludedElement(e)){var t=parseFloat(window.getComputedStyle(e).letterSpacing);t=isNaN(t)?0:t;var n=parseFloat(t+="px")+.7;e.style.setProperty("letter-spacing",n+"px","important"),localStorage.setItem("ts-spacing",parseFloat(n))}})}function resetLetterspacing(){document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)").forEach(function(e){e.style.letterSpacing="",localStorage.setItem("ts-spacing",null),localStorage.setItem("ts-clickCount",0),localStorage.setItem("ts-buttonClicked",!1)})}localStorageSpacingCount&&(clickCountText=parseInt(localStorageSpacingCount,10));var clickCount_lh=0,localStorageClickCount=localStorage.getItem("lh-clickCount");function increaseLineheight(){document.querySelectorAll("*:not(.widget-custom-trigger, .widget-custom-trigger span)").forEach(function(e){if(!isExcludedElement(e)){var t=parseFloat(window.getComputedStyle(e).lineHeight);t=isNaN(t)?0:t;var n=parseFloat(t+="px")+10+"px";localStorage.setItem("lh-height",parseFloat(n)),e.style.setProperty("line-height",n,"important")}})}function resetlineheight(){document.querySelectorAll("*").forEach(function(e){e.style.lineHeight="",localStorage.setItem("lh-height",null),localStorage.setItem("lh-clickCount",0),localStorage.setItem("lh-buttonClicked",!1)})}function toggleImages(){document.documentElement.classList.toggle("image-hide"),document.documentElement.id=document.documentElement.classList.contains("image-hide")?"imageHideBg":"";var e=document.querySelectorAll("img"),t={},n=document.getElementById("tickIcon-hi"),s=document.getElementById("featureItem-hi");e.forEach(function(e,n){isExcludedElement(e)||(e.style.setProperty("visibility","hidden"===e.style.visibility?"visible":"hidden","important"),t[n]=e.style.visibility)}),n.style.display="none"===n.style.display?"inline-block":"none",s.classList.toggle("feature-active"),localStorage.setItem("imageVisibilityState",JSON.stringify(t))}function highlightLinks(){var e=document.getElementById("tickIcon-ht"),t=document.getElementById("featureItem-ht");e.style.display="none"===e.style.display?"inline-block":"none",t.classList.toggle("feature-active");var n=document.querySelectorAll("a"),s=!1;n.forEach(function(e,t){isExcludedElement(e)||(e.style.setProperty("background",e.style.background?"":"black","important"),e.style.setProperty("color",e.style.color?"":"yellow","important"),"black"!==e.style.getPropertyValue("background")||"yellow"!==e.style.getPropertyValue("color")||(s=!0))});var i={tickIconVisible:"none"!==e.style.display,featureActive:t.classList.contains("feature-active"),linksHighlighted:s};localStorage.setItem("highlightLinks",JSON.stringify(i))}function toggleCursorFeature(){document.documentElement.classList.toggle("waf-bg-cursor");var e=document.getElementById("tickIcon-cursor");e.style.display="none"===e.style.display?"inline-block":"none";var t=document.getElementById("featureItem-Cursor");t.classList.toggle("feature-active"),localStorage.setItem("cursorFeatureActive",t.classList.contains("feature-active"))}function toggleFontFeature(){document.documentElement.classList.toggle("waf-font-df");var e=document.getElementById("tickIcon-df");e.style.display="none"===e.style.display?"inline-block":"none",document.getElementById("featureItem-df").classList.toggle("feature-active"),localStorage.setItem("dyslexia",document.documentElement.classList.contains("waf-font-df"))}function openMain(){document.getElementById("uw-main").style.right="0px"}function closeMain(){document.getElementById("uw-main").style.right="-490px"}function resetAll(){document.querySelectorAll(".reset-feature").forEach(function(e){e.classList.remove("feature-active")}),document.querySelectorAll(".reset-tick").forEach(function(e){e.style.display="none"}),document.querySelectorAll("a").forEach(function(e){e.style.background="",e.style.color=""}),localStorage.setItem("highlightLinks",!1),document.querySelectorAll("img").forEach(function(e){e.style.visibility="visible"}),localStorage.setItem("imageVisibilityState",JSON.stringify({})),document.documentElement.classList.remove("image-hide"),document.documentElement.id=document.documentElement.classList.contains("image-hide")?"imageHideBg":"",document.documentElement.classList.remove("waf-bg-white"),localStorage.setItem("invertFeature",!1),document.documentElement.classList.remove("waf-font-df"),localStorage.setItem("dyslexia",!1),document.documentElement.classList.remove("waf-bg-cursor"),localStorage.setItem("cursorFeatureActive",!1);var e=document.getElementById("checkbox").checked=!1;document.body.classList.remove("dark",e),localStorage.setItem("darkMode",!1),resetlineheight(),resetLetterspacing(),resetFontSizes(),document.getElementById("btn-s9").disabled=!1,document.getElementById("btn-small-text").disabled=!1,document.querySelectorAll(".reset-steps").forEach(function(e){e.innerHTML="",e.classList.remove("featureSteps-visible")}),resetspeech(),localStorage.setItem("speak",!1)}localStorageClickCount&&(clickCount_lh=parseInt(localStorageClickCount,10));let isReading=!1,utterance=null,previousSelectedElement=null;const speakOnSound=new Audio("./accessability/audio/screen_reader_on.mp3"),speakOffSound=new Audio("./accessability/audio/screen_reader_off.mp3");function toggleSpeech(){isReading?resetspeech():(speakOnSound.play(),isReading=!0)}function resetspeech(){speakOffSound.play(),window.speechSynthesis.cancel(),isReading=!1,previousSelectedElement=null}function startReadingOld(e){(utterance=new SpeechSynthesisUtterance(e)).rate=.7,utterance.pitch=10;let t=window.speechSynthesis.getVoices(),n=t.find(e=>e.name.includes("female")&&e.lang.includes("en"));n&&(utterance.voice=n),window.speechSynthesis.speak(utterance),utterance.addEventListener("end",function(){resetSelection()})}function startReadingOld2(e,t="en-US"){let n=new SpeechSynthesisUtterance,s=window.speechSynthesis.getVoices(),i=null;if(i=s.find(e=>e.lang.includes(t))){n.voice=i,n.lang=i.lang;return}n.text=e,n.volume=1,n.rate=.9,n.pitch=1,window.speechSynthesis.speak(n),n.addEventListener("end",function(){resetSelection()})}function startReading(e,t=LANAGUAGE){let n=new SpeechSynthesisUtterance;"gu"==t?n.lang="gu-IN":"hi"==t?n.lang="hi-IN":("en"==t||console.log("Invalid language selected defatult language English selected."),n.lang="en-US"),n.text=e,n.volume=1,n.rate=.9,n.pitch=1,window.speechSynthesis.speak(n),n.addEventListener("end",function(){resetSelection()})}function selectAndSpeak(e){let t=document.createRange();t.selectNodeContents(e);let n=window.getSelection();n.removeAllRanges(),n.addRange(t),previousSelectedElement!==e?(window.speechSynthesis.cancel(),startReading(n.toString()),previousSelectedElement=e):isReading?window.speechSynthesis.pause():window.speechSynthesis.resume()}function resetSelection(){let e=window.getSelection();e.removeAllRanges(),previousSelectedElement=null}function init(e){document.getElementById("dark-btn").addEventListener("click",function(){var e=document.getElementById("tickIcon-ht-dark"),t=document.getElementById("featureItem-ht-dark");let n=document.getElementById("checkbox"),s=n.checked;document.body.classList.toggle("dark",s),e.style.display="none"===e.style.display?"inline-block":"none",t.classList.toggle("feature-active"),localStorage.setItem("darkMode",s)}),handleFontSizes("btn-s9","featureItem","featureSteps","tickIcon",!0,"bt"),handleFontSizes("btn-small-text","featureItem-st","featureSteps-st","tickIcon-st",!1,"st"),document.getElementById("btn-s12").addEventListener("click",function(){clickCount_lh++;var e=document.getElementById("featureItem-lh"),t=document.getElementById("featureSteps-lh"),n=document.getElementById("tickIcon-lh");if(localStorage.setItem("lh-clickCount",clickCount_lh),localStorage.setItem("lh-buttonClicked",!0),4===clickCount_lh){clickCount_lh=0,e.classList.remove("feature-active"),t.classList.remove("featureSteps-visible"),t.innerHTML="",n.style.display="none",localStorage.setItem("lh-clickCount",0),localStorage.setItem("lh-buttonClicked",!1),resetlineheight();return}1===clickCount_lh&&(e.classList.add("feature-active"),t.classList.add("featureSteps-visible"),localStorage.setItem("lh-clickCount",1),localStorage.setItem("lh-buttonClicked",!0)),document.getElementById("btn-s12").setAttribute("data-uw-reader-content",clickCount_lh);for(var s="",i=0;i<3;i++)s+='<span class="'+(i<clickCount_lh?"active step uwaw-features__step":"step uwaw-features__step")+'"></span>';t.innerHTML=s,clickCount_lh<4&&(n.style.display="inline-block"),increaseLineheight()}),document.getElementById("btn-invert").addEventListener("click",function(){document.documentElement.classList.toggle("waf-bg-white");var e=document.getElementById("tickIcon-ic");e.style.display="none"===e.style.display?"inline-block":"none",document.getElementById("featureItem-ic").classList.toggle("feature-active"),localStorage.setItem("invertFeature",document.documentElement.classList.contains("waf-bg-white"))}),document.getElementById("widget-custom-trigger").addEventListener("click",function(){openMain()}),document.addEventListener("mouseup",function(e){if(isReading){let t=e.target;["P","SPAN","DIV","H1","H2","H3","H4","H5","H6","A","LI","LABEL","BUTTON","TD","TH","STRONG","EM","B","I","U","SMALL","BIG","SUB","SUP"].includes(t.tagName.toUpperCase())&&selectAndSpeak(t)}});let t=document.getElementById("speak");t.addEventListener("click",toggleSpeech),document.getElementById("speak").addEventListener("click",function(){var e=document.getElementById("tickIcon_sp");e.style.display="none"===e.style.display?"inline-block":"none";var t=document.getElementById("featureItem_sp");t.classList.toggle("feature-active"),localStorage.setItem("speak",t.classList.contains("feature-active"))}),e.backgroundColor&&document.documentElement.style.setProperty("--color-dark-blue-1",e.backgroundColor)}function addAccessabilityHTML(e){return new Promise(t=>{e.accessabilityBtn&&(accessabilityBtnText=e.accessabilityBtn),e.LANAGUAGE&&(LANAGUAGE=e.LANAGUAGE);var n=`<button id="widget-custom-trigger" class="widget-custom-trigger" aria-label="Accessibility Widget" data-uw-trigger="true" aria-haspopup="dialog">
              ${accessabilityBtnText}
          </button>`;let s=document.querySelector("body");if(s.innerHTML=widgetSection+s.innerHTML,e.accessabilityBtnContainer){let i=document.getElementById(e.accessabilityBtnContainer);i?i.innerHTML=n:alert("Invalid accessbiilty button container id")}else s.innerHTML+=n;t(e)})}function RenderAccessability(e){addAccessabilityHTML(e).then(t=>{init(e=t)})}